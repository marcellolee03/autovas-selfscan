```bash
#!/bin/bash

# Vulnerabilidade 1: Cleartext Transmission of Sensitive Information via HTTP
# A correção para essa vulnerabilidade envolve configurar o servidor web para redirecionar todo o tráfego HTTP para HTTPS.
# Este script assume que você está usando o Apache ou Nginx e já configurou o HTTPS.

# Para Apache:
if command -v apache2ctl &> /dev/null; then
  echo "Configurando redirecionamento HTTP para HTTPS no Apache..."
  if ! grep -q "RewriteEngine On" /etc/apache2/sites-available/000-default.conf; then
    sed -i 's/<VirtualHost \*:80>/<VirtualHost *:80>\n\tRewriteEngine On\n\tRewriteCond %{HTTPS} !=on\n\tRewriteRule ^ https:\/\/%{HTTP_HOST}%{REQUEST_URI} [L,R=301]/g' /etc/apache2/sites-available/000-default.conf
  fi
  apache2ctl restart
  echo "Redirecionamento HTTP para HTTPS configurado no Apache."

# Para Nginx:
elif command -v nginx &> /dev/null; then
  echo "Configurando redirecionamento HTTP para HTTPS no Nginx..."
  if ! grep -q "return 301 https" /etc/nginx/conf.d/default.conf; then
    sed -i 's/listen 80 default_server;/listen 80 default_server;\n\treturn 301 https:\/\/$host$request_uri;/g' /etc/nginx/conf.d/default.conf
  fi
  nginx -s reload
  echo "Redirecionamento HTTP para HTTPS configurado no Nginx."

else
  echo "Servidor web não detectado (Apache ou Nginx).  Redirecionamento HTTP para HTTPS não configurado."
fi

# Vulnerabilidade 2: DNS Cache Snooping Vulnerability (UDP) - Active Check
# Desativar recursão é uma solução, mas pode impactar a funcionalidade do servidor DNS.
# A alternativa mais segura é restringir o acesso público. Este script DESATIVA a recursão.
echo "Desativando recursão no DNS..."
if grep -q "options" /etc/bind/named.conf.options; then
    sed -i 's/.*recursion yes;.*/\trecursion no;/' /etc/bind/named.conf.options
else
    echo "options {\n\trecursion no;\n};" >> /etc/bind/named.conf.options
fi
systemctl restart bind9
echo "Recursão desativada no DNS."

# Vulnerabilidade 3: ICMP Timestamp Reply Information Disclosure
# Desabilita o envio de respostas ICMP Timestamp no kernel Linux.
echo "Desabilitando respostas ICMP Timestamp..."
echo 1 > /proc/sys/net/ipv4/icmp_echo_ignore_all
echo "net.ipv4.icmp_echo_ignore_all = 1" >> /etc/sysctl.conf
sysctl -p
echo "Respostas ICMP Timestamp desabilitadas."

# Vulnerabilidade 4: SSL/TLS: Deprecated TLSv1.0 and TLSv1.1 Protocol Detection
# Desabilita TLSv1.0 e TLSv1.1 e habilita TLSv1.2 e TLSv1.3 no Apache.
if command -v apache2ctl &> /dev/null; then
  echo "Desabilitando TLSv1.0 e TLSv1.1 no Apache..."
  if grep -q "SSLProtocol" /etc/apache2/mods-available/ssl.conf; then
    sed -i 's/SSLProtocol .*$/SSLProtocol All -SSLv3 -TLSv1 -TLSv1.1/' /etc/apache2/mods-available/ssl.conf
  else
    echo "SSLProtocol All -SSLv3 -TLSv1 -TLSv1.1" >> /etc/apache2/mods-available/ssl.conf
  fi
  apache2ctl restart
  echo "TLSv1.0 e TLSv1.1 desabilitados no Apache."
fi
# Desabilita TLSv1.0 e TLSv1.1 e habilita TLSv1.2 e TLSv1.3 no Nginx.
if command -v nginx &> /dev/null; then
  echo "Desabilitando TLSv1.0 e TLSv1.1 no Nginx..."
  if grep -q "ssl_protocols" /etc/nginx/nginx.conf; then
    sed -i 's/ssl_protocols .*$/ssl_protocols TLSv1.2 TLSv1.3;/' /etc/nginx/nginx.conf
  else
    sed -i 's/http {/http {\n\tssl_protocols TLSv1.2 TLSv1.3;/g' /etc/nginx/nginx.conf
  fi
  nginx -s reload
  echo "TLSv1.0 e TLSv1.1 desabilitados no Nginx."
fi


# Vulnerabilidade 5: SSL/TLS: Renegotiation DoS Vulnerability (CVE-2011-1473, CVE-2011-5094)
# Desabilita a renegociação SSL/TLS no Apache.
if command -v apache2ctl &> /dev/null; then
  echo "Desabilitando Renegotiation no Apache..."
  if grep -q "SSLOptions" /etc/apache2/mods-available/ssl.conf; then
      sed -i 's/SSLOptions .*$/SSLOptions +StrictRequire/' /etc/apache2/mods-available/ssl.conf
  else
      echo "SSLOptions +StrictRequire" >> /etc/apache2/mods-available/ssl.conf
  fi
  apache2ctl restart
  echo "Renegotiation desabilitada no Apache."
fi
# Desabilita renegotiation no Nginx (requer recompilação com a flag --without-http_ssl_module ou atualização para uma versão que suporte a diretiva ssl_reject_handshake on;)
# Este script não cobre a recompilação do Nginx.

# Vulnerabilidade 6: SSL/TLS: Report Weak Cipher Suites
# Define cipher suites fortes no Apache.
if command -v apache2ctl &> /dev/null; then
  echo "Definindo cipher suites fortes no Apache..."
  if grep -q "SSLCipherSuite" /etc/apache2/mods-available/ssl.conf; then
    sed -i 's/SSLCipherSuite .*$/SSLCipherSuite ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384/' /etc/apache2/mods-available/ssl.conf
  else
    echo "SSLCipherSuite ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384" >> /etc/apache2/mods-available/ssl.conf
  fi
  apache2ctl restart
  echo "Cipher suites fortes definidas no Apache."
fi
# Define cipher suites fortes no Nginx.
if command -v nginx &> /dev/null; then
  echo "Definindo cipher suites fortes no Nginx..."
  if grep -q "ssl_ciphers" /etc/nginx/nginx.conf; then
    sed -i 's/ssl_ciphers .*$/ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;/' /etc/nginx/nginx.conf
  else
    sed -i 's/http {/http {\n\tssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384;/g' /etc/nginx/nginx.conf
  fi
  nginx -s reload
  echo "Cipher suites fortes definidas no Nginx."
fi

# Vulnerabilidade 7: TCP Timestamps Information Disclosure
# Desabilita TCP timestamps no kernel Linux.
echo "Desabilitando TCP timestamps..."
echo "net.ipv4.tcp_timestamps = 0" >> /etc/sysctl.conf
sysctl -p
echo "TCP timestamps desabilitados."

echo "Script de correção finalizado."
```