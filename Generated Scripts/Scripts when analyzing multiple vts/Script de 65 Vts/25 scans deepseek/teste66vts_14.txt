#!/bin/bash
sudo apt-get update
sudo apt-get install -y python3.10=3.10.16-1+b1 python3.12=3.12.9-1+b1
sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.10 1
sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.12 2
sudo update-alternatives --set python3 /usr/bin/python3.12
pip install --upgrade pip
pip install --upgrade setuptools
pip install --upgrade wheel
pip install --upgrade cryptography
sudo systemctl restart apache2
sudo systemctl restart nginx
sudo ufw allow 5000/tcp
sudo ufw allow 8000/tcp
sudo ufw allow 8001/tcp
sudo ufw allow 8002/tcp
sudo ufw reload
sudo sed -i 's/^.*TLSv1.0.*$/#&/' /etc/ssl/openssl.cnf
sudo sed -i 's/^.*TLSv1.1.*$/#&/' /etc/ssl/openssl.cnf
sudo systemctl restart ssh
sudo systemctl restart apache2
sudo systemctl restart nginx
sudo apt-get autoremove -y
sudo apt-get clean