```bash
#!/bin/bash

# Este script corrige a vulnerabilidade de transmissão de informações sensíveis em texto puro via HTTP.
# Ele configura um redirecionamento HTTP para HTTPS no servidor web Apache ou Nginx.

# Detecta o servidor web utilizado (Apache ou Nginx)
if command -v apache2ctl &> /dev/null; then
  SERVER_TYPE="apache"
elif command -v nginx &> /dev/null; then
  SERVER_TYPE="nginx"
else
  echo "Servidor web Apache ou Nginx não detectado. Impossível configurar o redirecionamento."
  exit 1
fi

# Configuração para Apache
if [ "$SERVER_TYPE" == "apache" ]; then
  # Habilita o módulo rewrite do Apache
  sudo a2enmod rewrite

  # Define o arquivo de configuração do VirtualHost HTTP padrão
  VHOST_FILE="/etc/apache2/sites-available/000-default.conf"

  # Cria um backup do arquivo de configuração original
  sudo cp "$VHOST_FILE" "$VHOST_FILE.bak"

  # Adiciona o redirecionamento para HTTPS no VirtualHost HTTP padrão
  sudo sed -i "s|<VirtualHost \*:80>|<VirtualHost *:80>\n\tRewriteEngine On\n\tRewriteCond %{HTTPS} !=on\n\tRewriteRule ^/?(.*) https://%{SERVER_NAME}/\$1 [R=301,L]|g" "$VHOST_FILE"

  # Reinicia o Apache para aplicar as alterações
  sudo systemctl restart apache2
  echo "Redirecionamento HTTP para HTTPS configurado no Apache. Reinicie o navegador e teste."

# Configuração para Nginx
elif [ "$SERVER_TYPE" == "nginx" ]; then
  # Define o arquivo de configuração do servidor Nginx padrão
  VHOST_FILE="/etc/nginx/sites-available/default"

  # Cria um backup do arquivo de configuração original
  sudo cp "$VHOST_FILE" "$VHOST_FILE.bak"

  # Adiciona o redirecionamento para HTTPS no arquivo de configuração
  sudo sed -i "s|listen 80 default_server;|listen 80 default_server;\n\treturn 301 https://\$host\$request_uri;|g" "$VHOST_FILE"
  sudo sed -i "s|listen [::]:80 default_server;|listen [::]:80 default_server;\n\treturn 301 https://\$host\$request_uri;|g" "$VHOST_FILE"

  # Reinicia o Nginx para aplicar as alterações
  sudo systemctl restart nginx
  echo "Redirecionamento HTTP para HTTPS configurado no Nginx. Reinicie o navegador e teste."
fi

exit 0
```